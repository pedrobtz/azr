% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/api_session.R
\name{api_session}
\alias{api_session}
\title{Azure API Session}
\description{
An R6 class that provides a session wrapper for Azure API interactions.
This class manages an API client instance and provides a higher-level
interface for working with Azure APIs.
}
\details{
The \code{api_session} class wraps an \code{api_client} instance to provide session
management for Azure API interactions. It simplifies the process of
maintaining a persistent connection to an Azure API endpoint with
consistent authentication and configuration.
}
\examples{
\dontrun{
# Create a session with default credentials
session <- api_session$new(
  host_url = "https://management.azure.com"
)

# Create a session with custom credentials and options
session <- api_session$new(
  host_url = "https://management.azure.com",
  credentials = my_credential_function,
  timeout = 120,
  max_tries = 3
)
}
}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{.client}}{An instance of the api_client class}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-api_session-new}{\code{api_session$new()}}
\item \href{#method-api_session-clone}{\code{api_session$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-api_session-new"></a>}}
\if{latex}{\out{\hypertarget{method-api_session-new}{}}}
\subsection{Method \code{new()}}{
Create a new API session instance
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{api_session$new(
  host_url,
  credentials = NULL,
  timeout = 60L,
  connecttimeout = 30L,
  max_tries = 5L,
  ...
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{host_url}}{A character string specifying the base URL for the API
(e.g., \code{"https://management.azure.com"}).}

\item{\code{credentials}}{A function that adds authentication to requests. If
\code{NULL}, uses \code{\link[=default_non_auth]{default_non_auth()}}. The function should accept
an httr2 request object and return a modified request with authentication.}

\item{\code{timeout}}{An integer specifying the request timeout in seconds.
Defaults to \code{60}.}

\item{\code{connecttimeout}}{An integer specifying the connection timeout in
seconds. Defaults to \code{30}.}

\item{\code{max_tries}}{An integer specifying the maximum number of retry
attempts for failed requests. Defaults to \code{5}.}

\item{\code{...}}{Additional arguments (currently unused).}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A new \code{api_session} object
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-api_session-clone"></a>}}
\if{latex}{\out{\hypertarget{method-api_session-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{api_session$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
